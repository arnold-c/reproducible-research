<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3.1 Jupyter notebooks | A Guide to Reproducible Research</title>
  <meta name="description" content="This is a book that provides the foundations for good project structure and organisation. It guides you in what reproducible research is, and how we can implement it. If you would like to contribute to, and expand upon, sections, please submit a pull request on the GitHub Repo. Equally, please submit pull requests if you spot a typo or a mistake!" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="3.1 Jupyter notebooks | A Guide to Reproducible Research" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a book that provides the foundations for good project structure and organisation. It guides you in what reproducible research is, and how we can implement it. If you would like to contribute to, and expand upon, sections, please submit a pull request on the GitHub Repo. Equally, please submit pull requests if you spot a typo or a mistake!" />
  <meta name="github-repo" content="arnold-c/reproducible-research" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3.1 Jupyter notebooks | A Guide to Reproducible Research" />
  
  <meta name="twitter:description" content="This is a book that provides the foundations for good project structure and organisation. It guides you in what reproducible research is, and how we can implement it. If you would like to contribute to, and expand upon, sections, please submit a pull request on the GitHub Repo. Equally, please submit pull requests if you spot a typo or a mistake!" />
  

<meta name="author" content="Callum Arnold" />


<meta name="date" content="2019-08-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="3-notebooks.html">
<link rel="next" href="3-2-using-jupyter-notebooks.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Guide to Reproducible Research</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome, and what this book is about</a></li>
<li class="chapter" data-level="2" data-path="2-the-basics-for-all.html"><a href="2-the-basics-for-all.html"><i class="fa fa-check"></i><b>2</b> The basics for all</a><ul>
<li class="chapter" data-level="2.1" data-path="2-1-reproducible-work-an-introduction.html"><a href="2-1-reproducible-work-an-introduction.html"><i class="fa fa-check"></i><b>2.1</b> Reproducible work - an introduction</a><ul>
<li class="chapter" data-level="2.1.1" data-path="2-1-reproducible-work-an-introduction.html"><a href="2-1-reproducible-work-an-introduction.html#what-is-reproducible-work"><i class="fa fa-check"></i><b>2.1.1</b> What is reproducible work?</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-1-reproducible-work-an-introduction.html"><a href="2-1-reproducible-work-an-introduction.html#why-is-it-important"><i class="fa fa-check"></i><b>2.1.2</b> Why is it important?</a></li>
<li class="chapter" data-level="2.1.3" data-path="2-1-reproducible-work-an-introduction.html"><a href="2-1-reproducible-work-an-introduction.html#how-do-i-make-reproducible-work"><i class="fa fa-check"></i><b>2.1.3</b> How do I make reproducible work?</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-2-structuring-a-project.html"><a href="2-2-structuring-a-project.html"><i class="fa fa-check"></i><b>2.2</b> Structuring a project</a><ul>
<li class="chapter" data-level="2.2.1" data-path="2-2-structuring-a-project.html"><a href="2-2-structuring-a-project.html#data"><i class="fa fa-check"></i><b>2.2.1</b> <code>data/</code></a></li>
<li class="chapter" data-level="2.2.2" data-path="2-2-structuring-a-project.html"><a href="2-2-structuring-a-project.html#other-subdirectories"><i class="fa fa-check"></i><b>2.2.2</b> Other subdirectories</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-3-how-to-name-files-and-directories.html"><a href="2-3-how-to-name-files-and-directories.html"><i class="fa fa-check"></i><b>2.3</b> How to name files and directories</a></li>
<li class="chapter" data-level="2.4" data-path="2-4-key-points.html"><a href="2-4-key-points.html"><i class="fa fa-check"></i><b>2.4</b> Key Points</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-notebooks.html"><a href="3-notebooks.html"><i class="fa fa-check"></i><b>3</b> Notebooks</a><ul>
<li class="chapter" data-level="3.1" data-path="3-1-jupyter-notebooks.html"><a href="3-1-jupyter-notebooks.html"><i class="fa fa-check"></i><b>3.1</b> Jupyter notebooks</a><ul>
<li class="chapter" data-level="3.1.1" data-path="3-1-jupyter-notebooks.html"><a href="3-1-jupyter-notebooks.html#installing-jupyter-notebooks"><i class="fa fa-check"></i><b>3.1.1</b> Installing Jupyter notebooks</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-1-jupyter-notebooks.html"><a href="3-1-jupyter-notebooks.html#kernels"><i class="fa fa-check"></i><b>3.1.2</b> Kernels</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-2-using-jupyter-notebooks.html"><a href="3-2-using-jupyter-notebooks.html"><i class="fa fa-check"></i><b>3.2</b> Using Jupyter notebooks</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-2-using-jupyter-notebooks.html"><a href="3-2-using-jupyter-notebooks.html#creating-a-notebook"><i class="fa fa-check"></i><b>3.2.1</b> Creating a notebook</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-2-using-jupyter-notebooks.html"><a href="3-2-using-jupyter-notebooks.html#running-a-jupyter-notebook"><i class="fa fa-check"></i><b>3.2.2</b> Running a Jupyter notebook</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-2-using-jupyter-notebooks.html"><a href="3-2-using-jupyter-notebooks.html#customizing-jupyter-notebooks-ui"><i class="fa fa-check"></i><b>3.2.3</b> Customizing Jupyter notebook’s UI</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-3-output-documents.html"><a href="3-3-output-documents.html"><i class="fa fa-check"></i><b>3.3</b> Output documents</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-git.html"><a href="4-git.html"><i class="fa fa-check"></i><b>4</b> Git</a><ul>
<li class="chapter" data-level="4.1" data-path="4-1-set-up.html"><a href="4-1-set-up.html"><i class="fa fa-check"></i><b>4.1</b> Set up</a><ul>
<li class="chapter" data-level="4.1.1" data-path="4-1-set-up.html"><a href="4-1-set-up.html#windows"><i class="fa fa-check"></i><b>4.1.1</b> Windows</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-1-set-up.html"><a href="4-1-set-up.html#mac"><i class="fa fa-check"></i><b>4.1.2</b> Mac</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-1-set-up.html"><a href="4-1-set-up.html#final-git-set-up-steps"><i class="fa fa-check"></i><b>4.1.3</b> Final Git set up steps</a></li>
<li class="chapter" data-level="4.1.4" data-path="4-1-set-up.html"><a href="4-1-set-up.html#installation-problems"><i class="fa fa-check"></i><b>4.1.4</b> Installation problems</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-2-git-client.html"><a href="4-2-git-client.html"><i class="fa fa-check"></i><b>4.2</b> Git client</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-remote-repositories.html"><a href="4-3-remote-repositories.html"><i class="fa fa-check"></i><b>4.3</b> Remote repositories</a><ul>
<li class="chapter" data-level="4.3.1" data-path="4-3-remote-repositories.html"><a href="4-3-remote-repositories.html#github---the-good"><i class="fa fa-check"></i><b>4.3.1</b> GitHub - the Good</a></li>
<li class="chapter" data-level="4.3.2" data-path="4-3-remote-repositories.html"><a href="4-3-remote-repositories.html#private-server"><i class="fa fa-check"></i><b>4.3.2</b> Private server</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4-4-creating-a-repository.html"><a href="4-4-creating-a-repository.html"><i class="fa fa-check"></i><b>4.4</b> Creating a repository</a><ul>
<li class="chapter" data-level="4.4.1" data-path="4-4-creating-a-repository.html"><a href="4-4-creating-a-repository.html#connecting-to-github"><i class="fa fa-check"></i><b>4.4.1</b> Connecting to GitHub</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4-5-basic-commands.html"><a href="4-5-basic-commands.html"><i class="fa fa-check"></i><b>4.5</b> Basic commands</a></li>
<li class="chapter" data-level="4.6" data-path="4-6-branching.html"><a href="4-6-branching.html"><i class="fa fa-check"></i><b>4.6</b> Branching</a><ul>
<li class="chapter" data-level="4.6.1" data-path="4-6-branching.html"><a href="4-6-branching.html#creating-a-branch"><i class="fa fa-check"></i><b>4.6.1</b> Creating a branch</a></li>
<li class="chapter" data-level="4.6.2" data-path="4-6-branching.html"><a href="4-6-branching.html#merging-a-branch"><i class="fa fa-check"></i><b>4.6.2</b> Merging a branch</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="4-7-git-and-jupyter.html"><a href="4-7-git-and-jupyter.html"><i class="fa fa-check"></i><b>4.7</b> Git and Jupyter</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-additional-resources.html"><a href="5-additional-resources.html"><i class="fa fa-check"></i><b>5</b> Additional resources</a><ul>
<li class="chapter" data-level="5.1" data-path="5-1-project-structure.html"><a href="5-1-project-structure.html"><i class="fa fa-check"></i><b>5.1</b> Project structure</a></li>
<li class="chapter" data-level="5.2" data-path="5-2-git-1.html"><a href="5-2-git-1.html"><i class="fa fa-check"></i><b>5.2</b> Git</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Guide to Reproducible Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="jupyter-notebooks" class="section level2">
<h2><span class="header-section-number">3.1</span> Jupyter notebooks</h2>
<p>This section will give you a brief overview of what a Jupyter notebook is and how to use them, but if you would like a more detailed understanding, please read the official <a href="https://jupyter-notebook.readthedocs.io/en/stable/notebook.html">documentation</a>. Jupyter Labs has now been released as a newer version of notebooks, giving you a full IDE (integrated development environment) and more control over the notebooks and working environment. This guide will not explore these features, as we are more interested in how to use the notebook.</p>
<blockquote>
<p><strong>Note:</strong> throughout this section you can substitute the phrase <em>“Jupyter notebooks”</em> with <em>“Jupyter Labs”</em> if you would prefer to have a full IDE allowing you more control over the system.</p>
</blockquote>
<p>Jupyter notebooks are run on Python, though additional things can be downloaded to allow you to use your programming language of choice. For an example of what you can do with Jupyter notebooks, click <a href="https://nbviewer.jupyter.org/github/CamDavidsonPilon/Probabilistic-Programming-and-Bayesian-Methods-for-Hackers/blob/master/Chapter1_Introduction/Ch1_Introduction_PyMC3.ipynb">here</a>, and <a href="https://github.com/jupyter/jupyter/wiki/A-gallery-of-interesting-Jupyter-Notebooks#programming-and-computer-science">here</a> for a collection of neat and applied notebooks.</p>
<div id="installing-jupyter-notebooks" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Installing Jupyter notebooks</h3>
<p>Mac’s come shipped with a version of Python, but it is most likely outdated, and it doesn’t contain everything we want. In order to get running, I strongly recommend downloading the Anaconda distribution over other distributions, or even just directly from Python’s website. The instructions below will be enough to get you up and running with Jupyter notebooks in your language of choice.</p>
<ul>
<li>Download the full <a href="https://www.anaconda.com/download/">Anaconda</a> distribution i.e. not miniconda
<ul>
<li>Be sure to choose <code>Python 3.x</code>, not <code>Python 2.x</code>, as it’s the newer version and is forwards-compatible.</li>
<li>Be sure to only install for one user, not the whole system</li>
<li>Be sure to select <code>Add Anaconda to my PATH environment variable</code> under Advanced Options</li>
<li>Be sure to install Anaconda to the drive where your data lives. To do this you will need to manually edit the installation path within the Anaconda installer wizard, otherwise it will automatically end up in the <code>C:\</code> drive</li>
</ul></li>
<li>Use <code>kernels</code> to connect your programming language of choice with python and the notebook
<ul>
<li>To see how to get a particular language to work in Jupyter Notebooks, please click on the appropriate language:
<ul>
<li><a href="3-1-jupyter-notebooks.html#installing-the-stata-kernel">Stata</a></li>
<li><a href="3-1-jupyter-notebooks.html#installing-the-sas-kernel">SAS</a></li>
<li><a href="3-1-jupyter-notebooks.html#connecting-r-with-jupyter">R</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="kernels" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Kernels</h3>
<p>A kernel is program that allows the notebook to connect with, and run, your code. Jupyter comes with the Python code pre-installed, but if you want to use a different language, you will need to download a specific kernel.</p>
<p>Below, the installation instructions are described for common languages used in epidemiology. To see a full list of kernels available for Jupyter, along with the appropriate documentation and installation instructions, follow <a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">this link</a>.</p>
<div id="installing-the-stata-kernel" class="section level4">
<h4><span class="header-section-number">3.1.2.1</span> Installing the Stata kernel</h4>
<p>The instructions for installing the <code>stata_kernel</code> are based from the original documentation <a href="https://kylebarron.github.io/stata_kernel/getting_started/">here</a>. It should work with <code>Stata 12</code> (I have tested it). If these instructions do not work for you, it may be that there has been an update to the kernel, at which point, please refer to the original documentation linked above.</p>
<p>Open a command prompt (Windows) / terminal (linux/mac) and type/copy-paste the following commands, pressing enter after each line</p>
<ul>
<li><code>pip install stata_kernel</code></li>
<li><code>python -m stata_kernel.install</code></li>
</ul>
<p><strong>Windows-specific steps</strong></p>
<p>In order to let <code>stata_kernel</code> talk to Stata, you need to link the Stata Automation library:</p>
<ol style="list-style-type: decimal">
<li>In the installation directory (most likely <code>C:\Program Files (x86)\Stata12</code> or similar), right-click on the Stata executable, for example, <code>StataSE.exe</code> (this will just show as <code>StataSE</code>, but is listed as an application). Choose <code>Create Shortcut</code>. Placing it on the Desktop is fine.</li>
<li>Right-click on the newly created <code>Shortcut to StataSE.exe</code>, choose <code>Properties</code>, and append<code>/Register</code> to the end of the Target field. So if the target is currently <code>"C:\Program Files\Stata12\StataSE.exe"</code>, change it to <code>"C:\Program Files\Stata12\StataSE.exe" /Register</code> (note the space before <code>/</code>). Click OK.</li>
<li>Right-click on the updated <code>Shortcut to StataSE.exe</code>; choose Run as administrator.</li>
</ol>
</div>
<div id="installing-the-sas-kernel" class="section level4">
<h4><span class="header-section-number">3.1.2.2</span> Installing the SAS kernel</h4>
<p>*<em>This has not yet been tested here. The instructions for installing the <code>sas_kernel</code> are based from the original documentation <a href="https://github.com/sassoftware/sas_kernel">here</a></em>*</p>
<p>Open a command prompt (Windows) / terminal (linux/mac) and type/copy-paste the following commands, pressing enter after each line. First we need to install a dependency called <code>saspy</code> that helps the kernel connect <code>SAS</code> to <code>python</code></p>
<ul>
<li><code>pip install saspy</code></li>
<li><code>pip install sas_kernel</code></li>
</ul>
<p>You should now see something like this.</p>
<pre><code>Available kernels:
python3    /home/sas/anaconda3/lib/python3.5/site-packages/ipykernel/resources
sas        /home/sas/.local/share/jupyter/kernels/sas</code></pre>
<p>Now verify that the SAS Executable is correct</p>
<ul>
<li>find the <code>sascfg.py</code> file – it is currently located in the install location (see above) <code>[install location]/site-packages/saspy/sascfg.py</code>. To query <code>pip</code> for the location of the file, type <code>pip show saspy</code>. Failing that, this command will search the OS for the file location: <code>find / -name sascfg.py</code></li>
<li>edit the file with the correct path the SAS executable and include any options you wish it include in the SAS invocation. See examples in this <a href="https://github.com/sassoftware/saspy/blob/master/saspy/sascfg.py">file</a></li>
</ul>
</div>
<div id="connecting-r-with-jupyter" class="section level4">
<h4><span class="header-section-number">3.1.2.3</span> Connecting R with Jupyter</h4>
<p>If you are hoping to make nice documents and reproducible work using R, I would highly recommend that you use the R Markdown or R Notebook through <a href="https://www.rstudio.com/products/rstudio/download/">RStudio</a> application instead. However, if you would prefer Jupyter, then please read on.</p>
<p>It is possible to download an R kernel, much like for Stata and SAS, but it can be a bit fickle, so a different approach is described below. It is important to note that with this method you are installing a fresh version of R, so you will not have access to the packages you have previously installed - you will need to reinstall them in this R environment, which could be done within a Jupyter notebook.</p>
<p>Open a command prompt (Windows) / terminal (Linux/Mac) and enter the following commands:</p>
<ul>
<li><code>conda install r-essentials r-igraph</code></li>
<li><code>Rscript -e 'install.packages("languageserver")'</code></li>
</ul>
<p>If you would rather install an R kernel than a fresh install of R within the Anaconda distribution, you can follow the instructions <a href="https://richpauloo.github.io/2018-05-16-Installing-the-R-kernel-in-Jupyter-Lab/">here</a>. The advantage of this is that it allows the notebook to access previously installed packages as they are not running off a fresh version of R.</p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="3-notebooks.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="3-2-using-jupyter-notebooks.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"download": ["repro-research.pdf", "repro-research.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
